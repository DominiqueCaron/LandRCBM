setHook('rstudio.sessionInit', function(newSession) {
if (newSession) {
# message('Welcome to RStudio ', rstudioapi::getVersion())
}
ap <- rstudioapi::getActiveProject()
if (is.null(ap)) ap <- 'No active project'
message('This is now an RStudio project and SpaDES.project projectPath: ', ap)
message('attempting to re-open last active file (named global_LandRyieldTables.R) ')
try(file.edit('C:/Users/docaron/Documents/repos/LandRCBM/global_LandRyieldTables.R'), silent = TRUE)
rstudioapi::navigateToFile('C:/Users/docaron/Documents/repos/LandRCBM/global_LandRyieldTables.R')
readLns <- readLines('C:/Users/docaron/Documents/repos/LandRCBM/.Rprofile')
lineToDel <- grep('^.Restart_', readLns)
readLns <- readLns[-lineToDel]
cat(readLns, file = 'C:/Users/docaron/Documents/repos/LandRCBM/.Rprofile', sep = '
')
unlink('.Restart_file2dcc72344d66') # delete this file
}, action = 'append'
)
